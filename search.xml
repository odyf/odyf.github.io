<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>resilio-国内-Linux-install</title>
      <link href="posts/41149.html"/>
      <url>posts/41149.html</url>
      
        <content type="html"><![CDATA[<h3 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h3><p>在谷歌搜索引擎找了一下相关脚本，脚本拉取的文件是官网，而resilion已经被GG了，所以这个脚本在国外的服务器上是可行可用的，而在国内就没法了，刚好coding上线了新功能，一个小型的网盘可直链，就替换相关文件，使脚本国内服务器上可用，通过服务器centos7 其发行版本理论上也可以用的。</p><h3 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#安装必要的软件包</span><br><span class="line">yum -y install wget unzip</span><br><span class="line">#下载脚本</span><br><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;odyf&#x2F;Resilio-Sync&#x2F;archive&#x2F;master.zip</span><br><span class="line">#解压并安装</span><br><span class="line">unzip master.zip &amp;&amp; cd Resilio-Sync-master &amp;&amp; chmod +x *sync.sh &amp;&amp; .&#x2F;sync.sh</span><br></pre></td></tr></table></figure><h2 id="脚本地址"><a href="#脚本地址" class="headerlink" title="脚本地址"></a>脚本地址</h2><p><a href="https://github.com/odyf/Resilio-Sync">我是链接</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> resilio </tag>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Traefik-学习记录</title>
      <link href="posts/3543.html"/>
      <url>posts/3543.html</url>
      
        <content type="html"><![CDATA[<p>在写这篇文章的时候，网上关于这个Traefik代理软件的资料还是很少，基本上B站上有一个UP主在更新这个系列的视频，和官网上的文章，零零散散的，不知道以后会火起来不。</p><h2 id="创建初始化文件"><a href="#创建初始化文件" class="headerlink" title="创建初始化文件"></a>创建初始化文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p data&#x2F;configurations</span><br><span class="line">touch docker-compose.yml</span><br><span class="line">touch data&#x2F;traefik.yml</span><br><span class="line">touch data&#x2F;acme.json</span><br><span class="line">touch data&#x2F;configurations&#x2F;dynamic.yml</span><br><span class="line">chmod 600 data&#x2F;acme.json</span><br></pre></td></tr></table></figure><h4 id="添加创建docker-compose内容"><a href="#添加创建docker-compose内容" class="headerlink" title="添加创建docker-compose内容"></a>添加创建docker-compose内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim docker-compose.yml</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">version: &#39;3.7&#39;</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  traefik:</span><br><span class="line">    image: traefik:latest</span><br><span class="line">    container_name: traefik</span><br><span class="line">    restart: always</span><br><span class="line">    security_opt:</span><br><span class="line">      - no-new-privileges:true</span><br><span class="line">    ports:</span><br><span class="line">      - 80:80</span><br><span class="line">      - 443:443</span><br><span class="line">    volumes:</span><br><span class="line">      - &#x2F;etc&#x2F;localtime:&#x2F;etc&#x2F;localtime:ro</span><br><span class="line">      - &#x2F;var&#x2F;run&#x2F;docker.sock:&#x2F;var&#x2F;run&#x2F;docker.sock:ro</span><br><span class="line">      - .&#x2F;data&#x2F;traefik.yml:&#x2F;traefik.yml:ro</span><br><span class="line">      - .&#x2F;data&#x2F;acme.json:&#x2F;acme.json</span><br><span class="line">      # Add folder with dynamic configuration yml</span><br><span class="line">      - .&#x2F;data&#x2F;configurations:&#x2F;configurations</span><br><span class="line">    networks:</span><br><span class="line">      - proxy</span><br><span class="line">    labels:</span><br><span class="line">      - &quot;traefik.enable&#x3D;true&quot;</span><br><span class="line">      - &quot;traefik.docker.network&#x3D;proxy&quot;</span><br><span class="line">      - &quot;traefik.http.routers.traefik-secure.entrypoints&#x3D;websecure&quot;</span><br><span class="line">      - &quot;traefik.http.routers.traefik-secure.rule&#x3D;Host(&#96;traefik.yourdomain&#96;)&quot;</span><br><span class="line">      - &quot;traefik.http.routers.traefik-secure.middlewares&#x3D;user-auth@file&quot;</span><br><span class="line">      - &quot;traefik.http.routers.traefik-secure.service&#x3D;api@internal&quot;</span><br><span class="line"></span><br><span class="line">networks:</span><br><span class="line">  proxy:</span><br><span class="line">    external: true</span><br></pre></td></tr></table></figure><h4 id="添加全局配置文件内容"><a href="#添加全局配置文件内容" class="headerlink" title="添加全局配置文件内容"></a>添加全局配置文件内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;data&#x2F;traefik.yml</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">api:</span><br><span class="line">  dashboard: true</span><br><span class="line"></span><br><span class="line">entryPoints:</span><br><span class="line">  web:</span><br><span class="line">    address: :80</span><br><span class="line">    http:</span><br><span class="line">      redirections:</span><br><span class="line">        entryPoint:</span><br><span class="line">          to: websecure</span><br><span class="line"></span><br><span class="line">  websecure:</span><br><span class="line">    address: :443</span><br><span class="line">    http:</span><br><span class="line">      middlewares:</span><br><span class="line">        - secureHeaders@file</span><br><span class="line">      tls:</span><br><span class="line">        certResolver: letsencrypt</span><br><span class="line">              </span><br><span class="line">providers:</span><br><span class="line">  docker:</span><br><span class="line">    endpoint: &quot;unix:&#x2F;&#x2F;&#x2F;var&#x2F;run&#x2F;docker.sock&quot;</span><br><span class="line">    exposedByDefault: false</span><br><span class="line">  file:</span><br><span class="line">    filename: &#x2F;configurations&#x2F;dynamic.yml</span><br><span class="line"></span><br><span class="line">certificatesResolvers:</span><br><span class="line">  letsencrypt:</span><br><span class="line">    acme:</span><br><span class="line">      email: admin@yourdomain</span><br><span class="line">      storage: acme.json</span><br><span class="line">      keyType: EC384</span><br><span class="line">      httpChallenge:</span><br><span class="line">        entryPoint: web</span><br><span class="line">        </span><br><span class="line">  buypass:</span><br><span class="line">    acme:</span><br><span class="line">      email: admin@yourdomain</span><br><span class="line">      storage: acme.json</span><br><span class="line">      caServer: https:&#x2F;&#x2F;api.buypass.com&#x2F;acme&#x2F;directory </span><br><span class="line">      keyType: EC256</span><br><span class="line">      httpChallenge:</span><br><span class="line">        entryPoint: web</span><br></pre></td></tr></table></figure><h4 id="添加动态配置文件内容"><a href="#添加动态配置文件内容" class="headerlink" title="添加动态配置文件内容"></a>添加动态配置文件内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;data&#x2F;configurations&#x2F;dynamic.yml</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"># Dynamic configuration</span><br><span class="line">http:</span><br><span class="line">  middlewares:</span><br><span class="line">    secureHeaders:</span><br><span class="line">      headers:</span><br><span class="line">        sslRedirect: true</span><br><span class="line">        forceSTSHeader: true</span><br><span class="line">        stsIncludeSubdomains: true</span><br><span class="line">        stsPreload: true</span><br><span class="line">        stsSeconds: 31536000</span><br><span class="line">                </span><br><span class="line">    # UserName : admin</span><br><span class="line">    # Password : qwer1234          </span><br><span class="line">    user-auth:</span><br><span class="line">      basicAuth:</span><br><span class="line">        users:</span><br><span class="line">          - &quot;admin:$apr1$tm53ra6x$FntXd6jcvxYM&#x2F;YH0P2hcc1&quot;</span><br><span class="line">          </span><br><span class="line">tls:</span><br><span class="line">  options:</span><br><span class="line">    default:</span><br><span class="line">      cipherSuites:</span><br><span class="line">        - TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384</span><br><span class="line">        - TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384</span><br><span class="line">        - TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256</span><br><span class="line">        - TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256</span><br><span class="line">        - TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305</span><br><span class="line">        - TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305</span><br><span class="line">      minVersion: VersionTLS12</span><br></pre></td></tr></table></figure><p>默认登录用户为admin密码为qwer1234</p><h4 id="文件介绍"><a href="#文件介绍" class="headerlink" title="文件介绍"></a>文件介绍</h4><ul><li>docker-compose.yml（容器启动文件）</li><li>traefik.yml(静态全局配置文件重启生效)</li><li>dynamic.yml（动态配置文件无需重启生效）</li></ul><p>当我们启动一个 Docker 服务后，Traefik 就能发现服务并为其创建默认路由，需要注意的一点是，如果 Traefik 要能够与新的 Docker 服务进行通信，必须将其加入到同一网络</p><h4 id="启动容器"><a href="#启动容器" class="headerlink" title="启动容器"></a>启动容器</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h4 id="反向代理容器端口"><a href="#反向代理容器端口" class="headerlink" title="反向代理容器端口"></a>反向代理容器端口</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">version: &#39;3.5&#39;</span><br><span class="line">services: </span><br><span class="line">  whoami:</span><br><span class="line">    image: containous&#x2F;whoami</span><br><span class="line">    ### 以下都是需要的选项</span><br><span class="line">      labels:</span><br><span class="line">      - &quot;traefik.enable&#x3D;true&quot;</span><br><span class="line">      - &quot;traefik.docker.network&#x3D;proxy&quot;</span><br><span class="line">      - &quot;traefik.http.routers.whoami-secure.entrypoints&#x3D;websecure&quot;</span><br><span class="line">      - &quot;traefik.http.routers.whoami-secure.rule&#x3D;Host(&#96;wh.gao4.top&#96;)&quot;</span><br><span class="line">      - &quot;traefik.http.routers.whoami-secure.service&#x3D;whoami-service&quot;</span><br><span class="line">      - &quot;traefik.http.services.whoami-service.loadbalancer.server.port&#x3D;80&quot;</span><br><span class="line">    networks:</span><br><span class="line">      - proxy</span><br><span class="line">networks:</span><br><span class="line">  proxy:</span><br><span class="line">    external: true</span><br></pre></td></tr></table></figure><h3 id="反向代理局域网内的服务"><a href="#反向代理局域网内的服务" class="headerlink" title="反向代理局域网内的服务"></a>反向代理局域网内的服务</h3><p>暂无资料</p>]]></content>
      
      
      
        <tags>
            
            <tag> Traefik </tag>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>arch-brtfs-快照-arch总结</title>
      <link href="posts/10377.html"/>
      <url>posts/10377.html</url>
      
        <content type="html"><![CDATA[<h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>在学习arch之前ody特意学习了文件系统相关的的知识SDS(软件定义存储)brtfs，zfs,nas存储，可以说这个方案适合有一定linux知识又不想在系统出错的情况下，<code>在实体机器上快速恢复系统</code>,以下是我的分区</p><p><img src="/img/2020-11-23_08-59-48.png" alt="分区结构"></p><p>前面的arch安装与美化也可以看出ody的电脑只有一个一盘分区也是只分了sda1 boot分区与sda2 /分区这两个分区，然后/分区有文件系统是btrfs,我们需要的就是btrfs文件系统的高级特性快照，适合以下情况，更新系统出错、安装软件报错</p><h3 id="安装与使用"><a href="#安装与使用" class="headerlink" title="安装与使用"></a>安装与使用</h3><p>安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S  snapper</span><br></pre></td></tr></table></figure><p>创建配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c 配置名称  create-config 子卷路径</span><br></pre></td></tr></table></figure><p>删除snapper配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c 配置名称 delete-config</span><br></pre></td></tr></table></figure><p>列出配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper list-configs</span><br></pre></td></tr></table></figure><h4 id="拍摄快照"><a href="#拍摄快照" class="headerlink" title="拍摄快照"></a>拍摄快照</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c 配置名称 create 选项</span><br></pre></td></tr></table></figure><table><thead><tr><th align="center">选项</th><th align="center">描述</th></tr></thead><tbody><tr><td align="center">-p</td><td align="center">打印快照编号</td></tr><tr><td align="center">-c&lt;number|timeline</td><td align="center">指定清理算法</td></tr><tr><td align="center">-description=描述</td><td align="center">在快照后面添加描述</td></tr></tbody></table><h5 id="举例"><a href="#举例" class="headerlink" title="举例"></a>举例</h5><p>在根目录下拍摄一个arch-a配置文件的并描述为<code>根实验tets</code>的快照并打印编号</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c aech-a create --description&#x3D;根实验test -p</span><br></pre></td></tr></table></figure><p>列出快照</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c 配置名称 list</span><br></pre></td></tr></table></figure><p>举例</p><p>列出arch-a的所有快照</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c arch-a list</span><br></pre></td></tr></table></figure><p><img src="/img/2020-11-23_10-24-56.png" alt="实验结果"></p><h5 id="删除快照"><a href="#删除快照" class="headerlink" title="删除快照"></a>删除快照</h5><p>删除快照1</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c arch-a delete 1</span><br></pre></td></tr></table></figure><p>批量删除</p><p>删除快照1删除快照2删除快照3</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo napper -c arch-a delete 1..2...3</span><br></pre></td></tr></table></figure><h4 id="回滚快照"><a href="#回滚快照" class="headerlink" title="回滚快照"></a>回滚快照</h4><p>基本用法</p><p>建议回滚前建立一个快照</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c 配置名称 undochange 快照编号..0</span><br></pre></td></tr></table></figure><p>举例</p><p>回滚配置名称为arch-a 快照编号3的命令</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo snapper -c arch-a undochange 3..0</span><br></pre></td></tr></table></figure><p>以上就是常用命令</p>]]></content>
      
      
      
        <tags>
            
            <tag> arch </tag>
            
            <tag> brtfs </tag>
            
            <tag> 快照 </tag>
            
            <tag> 恢复系统 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>arch-lightdm-xfce登录管理器美化</title>
      <link href="posts/54556.html"/>
      <url>posts/54556.html</url>
      
        <content type="html"><![CDATA[<p>不知道是主题问题还是登录的一瞬间有一个画面撕裂的问题</p><p>文章<a href="https://www.v2ex.com/t/630589">参考链接</a></p><h3 id="安装lightdm-webkit2-greeter"><a href="#安装lightdm-webkit2-greeter" class="headerlink" title="安装lightdm-webkit2-greeter"></a>安装lightdm-webkit2-greeter</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S lightdm-webkit2-greeter</span><br></pre></td></tr></table></figure><p>打开文件 </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;etc&#x2F;lightdm&#x2F;lightdm.conf</span><br></pre></td></tr></table></figure><p>找到 第102行参数greeter-session，修改为下面的内容</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greeter-session&#x3D;lightdm-webkit2-greeter</span><br></pre></td></tr></table></figure><p>注意上面参数修改配置行102行</p><p><img src="/img/Snipaste_2020-11-21_12-34-16.png" alt=" greeter-session"></p><h4 id="主题存放路径"><a href="#主题存放路径" class="headerlink" title="主题存放路径"></a>主题存放路径</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#下载的主题保存在 &#x2F;usr&#x2F;share&#x2F;lightdm-webkit&#x2F;themes&#x2F;</span><br><span class="line">#可以直接用 git clone 到这个路径下</span><br></pre></td></tr></table></figure><p>移动到主题目录</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;usr&#x2F;share&#x2F;lightdm-webkit&#x2F;themes&#x2F;</span><br></pre></td></tr></table></figure><p>GIt clone 一个Github上星星最多的主题</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;NoiSek&#x2F;Aether.git</span><br></pre></td></tr></table></figure><h4 id="设置登录主题"><a href="#设置登录主题" class="headerlink" title="设置登录主题"></a>设置登录主题</h4><p>编辑配置文件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano &#x2F;etc&#x2F;lightdm&#x2F;lightdm-webkit2-greeter.conf</span><br></pre></td></tr></table></figure><p>找到 <code>webkit_theme</code>，修改</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">webkit_theme &#x3D; Aether</span><br></pre></td></tr></table></figure><h2 id="主题欣赏"><a href="#主题欣赏" class="headerlink" title="主题欣赏"></a>主题欣赏</h2><h4 id="lightdm-webkit-theme-aether"><a href="#lightdm-webkit-theme-aether" class="headerlink" title="lightdm-webkit-theme-aether"></a><a href="https://github.com/NoiSek/Aether">lightdm-webkit-theme-aether</a></h4><p><img src="/img/theme-showcase.gif" alt="Aether"></p><h4 id="lightdm-webkit-theme-litarvan"><a href="#lightdm-webkit-theme-litarvan" class="headerlink" title="lightdm-webkit-theme-litarvan"></a><a href="https://github.com/Litarvan/lightdm-webkit-theme-litarvan">lightdm-webkit-theme-litarvan</a></h4><p><img src="/img/68747470733a2f2f6c6974617276616e2e6769746875622e6.png" alt="litarvan"></p><p><img src="/img/68747470733a2f2f6c6974617276616e2e6769746875622e7.png" alt="litarvan1"></p><h4 id="lightdm-webkit-theme-tendou"><a href="#lightdm-webkit-theme-tendou" class="headerlink" title="lightdm-webkit-theme-tendou"></a><a href="https://github.com/codehearts/lightdm-webkit-theme-tendou/">lightdm-webkit-theme-tendou</a></h4><p><img src="/img/screenshot.png" alt="lightdm-webkit-theme-tendou"></p>]]></content>
      
      
      
        <tags>
            
            <tag> arch </tag>
            
            <tag> 美化 </tag>
            
            <tag> xfce </tag>
            
            <tag> lightdm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>arch-2020-xfce桌面安装美化</title>
      <link href="posts/45862.html"/>
      <url>posts/45862.html</url>
      
        <content type="html"><![CDATA[<h3 id="更换源"><a href="#更换源" class="headerlink" title="更换源"></a>更换源</h3><p>sudo nano  /etc/pacman.conf末尾添加下面</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">Server &#x3D; https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;archlinuxcn&#x2F;$arch</span><br></pre></td></tr></table></figure><p>sudo nano /etc/pacman.d/mirrorlist 文件顶端添加</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Server &#x3D; https:&#x2F;&#x2F;mirrors.tuna.tsinghua.edu.cn&#x2F;archlinux&#x2F;$repo&#x2F;os&#x2F;$arch</span><br></pre></td></tr></table></figure><p>更新软件包缓存</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syy</span><br></pre></td></tr></table></figure><p>安装密匙</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S archlinuxcn-keyring</span><br></pre></td></tr></table></figure><p>安装yay</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yay</span><br></pre></td></tr></table></figure><p>添加源</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay --aururl &quot;https:&#x2F;&#x2F;aur.tuna.tsinghua.edu.cn&quot; --save</span><br></pre></td></tr></table></figure><h3 id="安装桌面环境XFCE"><a href="#安装桌面环境XFCE" class="headerlink" title="安装桌面环境XFCE"></a>安装桌面环境XFCE</h3><h4 id="安装X"><a href="#安装X" class="headerlink" title="安装X"></a>安装X</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S xorg</span><br></pre></td></tr></table></figure><h4 id="安装桌面相关软件"><a href="#安装桌面相关软件" class="headerlink" title="安装桌面相关软件"></a>安装桌面相关软件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S xfce4 xfce4-goodies</span><br></pre></td></tr></table></figure><h4 id="安装字体"><a href="#安装字体" class="headerlink" title="安装字体"></a>安装字体</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S ttf-dejavu wqy-bitmapfont wqy-microhei wqy-zenhei noto-fonts noto-fonts-emoji</span><br></pre></td></tr></table></figure><h4 id="安装网络管理"><a href="#安装网络管理" class="headerlink" title="安装网络管理"></a>安装网络管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S networkmanager network-manager-applet</span><br></pre></td></tr></table></figure><p>然后启用:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable NetworkManager.service</span><br></pre></td></tr></table></figure><p>禁用wifi-menu:</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl disable netctl.service</span><br></pre></td></tr></table></figure><p>PS:<a href="https://bbs.archlinuxcn.org/viewtopic.php?id=3105">参考链接</a></p><h4 id="安装显示管理器"><a href="#安装显示管理器" class="headerlink" title="安装显示管理器"></a>安装显示管理器</h4><p>所谓登录界面</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S lightdm lightdm-gtk-greeter lightdm-gtk-greeter-settings</span><br></pre></td></tr></table></figure><p>开机自启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable lightdm</span><br></pre></td></tr></table></figure><p>pacman 卸载操作</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Rs</span><br></pre></td></tr></table></figure><p>2020-11-21更新 已安装sddm管理器lightdm安装后登陆的一瞬间画面撕裂sddm就没有这个问题</p><p>sddm安装</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S sddm</span><br></pre></td></tr></table></figure><p>开机启动sddm</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo systemctl enable sddm</span><br></pre></td></tr></table></figure><h3 id="安装输入法"><a href="#安装输入法" class="headerlink" title="安装输入法"></a>安装输入法</h3><p>安装软件包</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S --noconfirm fcitx5 fcitx5-qt fcitx5-gtk fcitx5-qt4 fcitx5-chinese-addons fcitx5-configtool fcitx5-material-color fcitx5-pinyin-moegirl fcitx5-pinyin-zhwiki</span><br></pre></td></tr></table></figure><p>编辑环境变量</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano ~&#x2F;.xprofile</span><br></pre></td></tr></table></figure><p>填入以下参数并注销桌面生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export QT_IM_MODULE&#x3D;fcitx5</span><br><span class="line">export GTK_MODULE&#x3D;fcitx</span><br><span class="line">export XMODIFIERS&#x3D;&quot;@im&#x3D;fcitx&quot;</span><br><span class="line">fcitx5 &amp;</span><br></pre></td></tr></table></figure><h4 id="安装声音驱动"><a href="#安装声音驱动" class="headerlink" title="安装声音驱动"></a>安装声音驱动</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S alsa-utils pulseaudio pulseaudio-alsa</span><br></pre></td></tr></table></figure><p>xfce4 panel里面的插件配合使用,必须要有这个进程</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S pavucontrol </span><br></pre></td></tr></table></figure><h4 id="桌面解压软件"><a href="#桌面解压软件" class="headerlink" title="桌面解压软件"></a>桌面解压软件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S thunar-archive-plugin xarchiver zip unzip p7zip arj lzop cpio unrar</span><br></pre></td></tr></table></figure><h4 id="文件管理器中访问共享"><a href="#文件管理器中访问共享" class="headerlink" title="文件管理器中访问共享"></a>文件管理器中访问共享</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S gvfs gvfs-smb sshfs</span><br></pre></td></tr></table></figure><h4 id="禁止主板蜂鸣提示音"><a href="#禁止主板蜂鸣提示音" class="headerlink" title="禁止主板蜂鸣提示音"></a>禁止主板蜂鸣提示音</h4><p>重启生效</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;blacklist pcspkr&quot; &gt; &#x2F;etc&#x2F;modprobe.d&#x2F;nobeep.conf</span><br><span class="line">exit</span><br></pre></td></tr></table></figure><p>禁止充电嘟嘟声音</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在BIOS里使用左右方向键切换到“Configuration”配置项;Power Beep这个选项关闭就行</span><br></pre></td></tr></table></figure><h4 id="安装Dock停靠栏"><a href="#安装Dock停靠栏" class="headerlink" title="安装Dock停靠栏"></a>安装Dock停靠栏</h4><p>按住CTRL加鼠标左键会弹出设置界面</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S plank</span><br></pre></td></tr></table></figure><h5 id="设置plank开机启动"><a href="#设置plank开机启动" class="headerlink" title="设置plank开机启动"></a>设置plank开机启动</h5><p>在设置管理器里面找到Session and Startup（会话和启动），在Application Autostart（应用程序自启动）里面点击Add（添加）按钮，新增Plank登录自启动。</p><p><img src="/img/20615571-3c9ebed44346d1f2.png" alt="plank"></p><h4 id="安装常用软件"><a href="#安装常用软件" class="headerlink" title="安装常用软件"></a>安装常用软件</h4><p>yay包管理器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yay</span><br></pre></td></tr></table></figure><p>安装yay编译工具</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S base-devel </span><br></pre></td></tr></table></figure><p>安装 snapper 快照管理实用工具</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S snapper </span><br></pre></td></tr></table></figure><p>谷歌浏览器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S google-chrome</span><br></pre></td></tr></table></figure><p>网易云音乐</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S netease-cloud-music</span><br></pre></td></tr></table></figure><p>MD编辑器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S typora</span><br></pre></td></tr></table></figure><p>OBS录屏软件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S obs-studio</span><br></pre></td></tr></table></figure><p>桌面搜索软件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S albert</span><br></pre></td></tr></table></figure><p>笔记本电脑电池优化</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S tlp</span><br><span class="line">sudo systemctl start tlp </span><br><span class="line">sudo systemctl enable tlp</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>v2ray</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yay -S qv2ray-dev-git v2ray</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>启用NTFS支持</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S ntfs-3g-fuse</span><br></pre></td></tr></table></figure><p>安装媒体组件</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S libva libva-intel-driver libva-vdpau-driver libva-utils</span><br><span class="line"># 检查硬件加速库状态，会显示libva库的版本与显卡信息</span><br><span class="line">vainfo</span><br></pre></td></tr></table></figure><p>lvc播放器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S vlc </span><br></pre></td></tr></table></figure><p>Git图形化工具gitkraken</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S gitkraken</span><br></pre></td></tr></table></figure><p>汉化gitkraken </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;k-skye&#x2F;gitkraken-chinese.git</span><br><span class="line">cd gitkraken-chinese</span><br><span class="line">sudo cp gitkraken-chinese&#x2F;strings.json   &#x2F;opt&#x2F;gitkraken&#x2F;resources&#x2F;app.asar.unpacked&#x2F;src&#x2F;</span><br><span class="line"></span><br><span class="line"># yay查看安装后的包路径命令</span><br><span class="line">yay -Ql gitkraken</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> arch </tag>
            
            <tag> 美化 </tag>
            
            <tag> xfce </tag>
            
            <tag> lightdm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>arch-2020-install</title>
      <link href="posts/54552.html"/>
      <url>posts/54552.html</url>
      
        <content type="html"><![CDATA[<h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start dhcpcd</span><br></pre></td></tr></table></figure><h3 id="启动sshd"><a href="#启动sshd" class="headerlink" title="启动sshd"></a>启动sshd</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start sshd</span><br></pre></td></tr></table></figure><h4 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><h3 id="同步时间启用NTP"><a href="#同步时间启用NTP" class="headerlink" title="同步时间启用NTP"></a>同步时间启用NTP</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp true</span><br><span class="line">timedatectl status</span><br></pre></td></tr></table></figure><h3 id="分区EFl"><a href="#分区EFl" class="headerlink" title="分区EFl"></a>分区EFl</h3><p><code>把DOS disklabel改为GPT disklabel</code></p><p><img src="/img/lala.im_2020-08-08_09-49-20.png" alt="分区EFl"></p><h3 id="创建根分区"><a href="#创建根分区" class="headerlink" title="创建根分区"></a>创建根分区</h3><p><img src="/img/lala.im_2020-08-08_09-53-03.png" alt="根分区"></p><h3 id="创建文件系统btrfs"><a href="#创建文件系统btrfs" class="headerlink" title="创建文件系统btrfs"></a>创建文件系统btrfs</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkfs.fat -F32 &#x2F;dev&#x2F;sda1</span><br><span class="line">mkfs.btrfs -m single -L btrfs-arch &#x2F;dev&#x2F;sda2</span><br></pre></td></tr></table></figure><h3 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mount -o compress&#x3D;lzo &#x2F;dev&#x2F;sda2 &#x2F;mnt</span><br><span class="line">mkdir &#x2F;mnt&#x2F;boot</span><br><span class="line">mount &#x2F;dev&#x2F;sda1 &#x2F;mnt&#x2F;boot</span><br></pre></td></tr></table></figure><h2 id="装相关软件"><a href="#装相关软件" class="headerlink" title="装相关软件"></a>装相关软件</h2><p>基础系统</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacstrap &#x2F;mnt base linux linux-firmware nano openssh grub efibootmgr</span><br></pre></td></tr></table></figure><h4 id="生成fstab"><a href="#生成fstab" class="headerlink" title="生成fstab"></a>生成fstab</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U &#x2F;mnt &gt;&gt; &#x2F;mnt&#x2F;etc&#x2F;fstab</span><br></pre></td></tr></table></figure><h4 id="chroot到系统"><a href="#chroot到系统" class="headerlink" title="chroot到系统"></a>chroot到系统</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot &#x2F;mnt</span><br></pre></td></tr></table></figure><h5 id="设置root密码并建立用户"><a href="#设置root密码并建立用户" class="headerlink" title="设置root密码并建立用户"></a>设置root密码并建立用户</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br><span class="line"># -G参数设置用户组，-m开关建立用户目录，username为你的用户名</span><br><span class="line">useradd -G wheel -m username</span><br><span class="line"># 给新用户设置密码。密码要输入两次，没有回显</span><br><span class="line">passwd username</span><br></pre></td></tr></table></figure><h5 id="安装sudo"><a href="#安装sudo" class="headerlink" title="安装sudo"></a>安装sudo</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S sudo vim vi</span><br></pre></td></tr></table></figure><h5 id="编辑sudo配置文件并用vim打开"><a href="#编辑sudo配置文件并用vim打开" class="headerlink" title="编辑sudo配置文件并用vim打开"></a>编辑sudo配置文件并用vim打开</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo EDITOR&#x3D;vim visudo</span><br></pre></td></tr></table></figure><h5 id="添加下面一行"><a href="#添加下面一行" class="headerlink" title="添加下面一行"></a>添加下面一行</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%wheel ALL&#x3D;(ALL) ALL</span><br></pre></td></tr></table></figure><p>设置时区：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -sf &#x2F;usr&#x2F;share&#x2F;zoneinfo&#x2F;Asia&#x2F;Shanghai &#x2F;etc&#x2F;localtime</span><br><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure><p>本地化设置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;etc&#x2F;locale.gen</span><br></pre></td></tr></table></figure><p>去掉下面的注释：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">en_US.UTF-8 UTF-8</span><br><span class="line">zh_CN.UTF-8 UTF-8</span><br></pre></td></tr></table></figure><p>注：你需要桌面环境支持中文，就必须在这里配置zh_CN的locale。</p><p>重新生成配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locale-gen</span><br></pre></td></tr></table></figure><p>创建locale.conf配置文件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;etc&#x2F;locale.conf</span><br></pre></td></tr></table></figure><p>写入如下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LANG&#x3D;zh_CN.UTF-8</span><br></pre></td></tr></table></figure><p>设置hostname：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo ody &gt; &#x2F;etc&#x2F;hostname</span><br></pre></td></tr></table></figure><p>编辑hosts列表：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nano &#x2F;etc&#x2F;hosts</span><br></pre></td></tr></table></figure><p>写入如下配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">127.0.0.1    localhost</span><br><span class="line">::1    localhost</span><br><span class="line">127.0.0.1    ody</span><br></pre></td></tr></table></figure><p>网络这块，由于我们需要用到桌面环境，所以选择使用networkmanager是更明智的。</p><p>如果你的网络是DHCP自动分配的，那么安装好了之后设置NetworkManager开机自启即可，无需做其他配置：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S networkmanager</span><br><span class="line">systemctl enable NetworkManager</span><br></pre></td></tr></table></figure><p>最后配置grub：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grub-install --target&#x3D;x86_64-efi --efi-directory&#x3D;&#x2F;boot --bootloader-id&#x3D;GRUB</span><br><span class="line">grub-mkconfig -o &#x2F;boot&#x2F;grub&#x2F;grub.cfg</span><br></pre></td></tr></table></figure><h3 id="sshd开机启动"><a href="#sshd开机启动" class="headerlink" title="sshd开机启动"></a>sshd开机启动</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable sshd</span><br></pre></td></tr></table></figure><h3 id="退出"><a href="#退出" class="headerlink" title="退出"></a>退出</h3><p>PS: 基础环境安装完成</p><h2 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h2><p><a href="https://lala.im/7280.html">安装archlinuxUEFI+DDE桌面环境+常用软件</a></p><p><a href="http://anclark.github.io/2020/02/14/Struggle_with_Linux/Arch%20Linux%E4%B8%8EKDE%E5%AE%89%E8%A3%85%E8%BF%87%E7%A8%8B/">Arch Linux + KDE安装教程</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> arch </tag>
            
            <tag> install </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wallabag-docker-compose</title>
      <link href="posts/30550.html"/>
      <url>posts/30550.html</url>
      
        <content type="html"><![CDATA[<h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><p>在这个互联网信息爆炸的时代，跟上时代的步伐，保存信息，随时随地的阅读成了需求，虽然很小众，但经验一定是一点一点积累的，而<code>wallabag</code>就是这样的一个工具，当你看到一篇好的文章，无论是移动客户端还是电脑PC端，虽然现在有全平台一个账号走天下，但有时意外随时可能发生，万一这个网站不运营了，收藏的书签地址就毫无意义，而<code>wallabag</code>就是这样一个脱机工具，它会以富文本的方式，很好的保存网页到本地，如果网站允许还可以把图片自动转换为本地的图片，浏览器插件，安卓客户端基本上覆盖了全终端，加上是开源，本地可以搭建，可以说一次搭建终身受益。</p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="http://zh.wikipedia.org/wiki/%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F">个人信息管理系统</a>（<em>Personal Information Manager</em>，简称PIM）是一种提供个人信息组织管理功能的一系列流程。其目的是为了便于保存、记录、回溯和管理各种个人信息。而稍后读这种服务就是 PIM 流程中的一部分，属于信息的收集部分，也是整个 PIM 流程中的「输入」部分。我们每天都会从各种渠道获取到各种信息，普通的新闻属于不需要进行再处理的信息内容，也可称作<strong>「阅后即焚」</strong>。而需要进行二次处理的内容即是有价值的内容，稍后读在信息的收集中占据一定分量，如日常的 Safari 浏览，可以通过 Reading Lists（阅读列表）进行后续处理，并且它支持离线阅读。第三方的稍后读服务有常见的 Pocket、Instapaper 等，它们都有着共同的特点：优化显示内容、离线浏览、只能分类以及多重显示方式。</p><h2 id="搭建"><a href="#搭建" class="headerlink" title="搭建"></a>搭建</h2><p>nano docker-compose.yml</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">version: &#39;3&#39;</span><br><span class="line">services:</span><br><span class="line">  wallabag:</span><br><span class="line">    image: wallabag&#x2F;wallabag</span><br><span class="line">    environment:</span><br><span class="line">      - MYSQL_ROOT_PASSWORD&#x3D;wallaroot</span><br><span class="line">      - SYMFONY__ENV__DATABASE_DRIVER&#x3D;pdo_mysql</span><br><span class="line">      - SYMFONY__ENV__DATABASE_HOST&#x3D;db</span><br><span class="line">      - SYMFONY__ENV__DATABASE_PORT&#x3D;3306</span><br><span class="line">      - SYMFONY__ENV__DATABASE_NAME&#x3D;wallabag</span><br><span class="line">      - SYMFONY__ENV__DATABASE_USER&#x3D;wallabag</span><br><span class="line">      - SYMFONY__ENV__DATABASE_PASSWORD&#x3D;wallapass</span><br><span class="line">      - SYMFONY__ENV__DATABASE_CHARSET&#x3D;utf8mb4</span><br><span class="line">      - SYMFONY__ENV__MAILER_HOST&#x3D;127.0.0.1</span><br><span class="line">      - SYMFONY__ENV__MAILER_USER&#x3D;~</span><br><span class="line">      - SYMFONY__ENV__MAILER_PASSWORD&#x3D;~</span><br><span class="line">      - SYMFONY__ENV__FROM_EMAIL&#x3D;wallabag@example.com</span><br><span class="line">      - SYMFONY__ENV__DOMAIN_NAME&#x3D;http:&#x2F;&#x2F;f.gao4.top:86</span><br><span class="line">    ports:</span><br><span class="line">      - 86:80</span><br><span class="line">    volumes:</span><br><span class="line">      - .&#x2F;images:&#x2F;var&#x2F;www&#x2F;wallabag&#x2F;web&#x2F;assets&#x2F;images</span><br><span class="line">  db:</span><br><span class="line">    image: mariadb</span><br><span class="line">    environment:</span><br><span class="line">      - MYSQL_ROOT_PASSWORD&#x3D;wallaroot</span><br><span class="line">    volumes:</span><br><span class="line">      - .&#x2F;data:&#x2F;var&#x2F;lib&#x2F;mysql</span><br><span class="line">  redis:</span><br><span class="line">    image: redis:alpine</span><br></pre></td></tr></table></figure><h2 id="需要注意参数"><a href="#需要注意参数" class="headerlink" title="需要注意参数"></a>需要注意参数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- SYMFONY__ENV__DOMAIN_NAME&#x3D;http:&#x2F;&#x2F;f.gao4.top:86</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- 86:80</span><br></pre></td></tr></table></figure><p>PS: 第一个是需要修改的域名加端口第二个是把外网86端口映射到容器80端口</p><h3 id="转换本地图片下载"><a href="#转换本地图片下载" class="headerlink" title="转换本地图片下载"></a>转换本地图片下载</h3><p>默认不开 开启抓取的网页图片本地转换需要用默认的wallabag登录开启把<code>0</code>改为<code>1</code> 其他账号没有这个选项</p><p><img src="/img/Snipaste_2020-11-18_11-07-10.png" alt="设置路径"></p><h2 id="启动"><a href="#启动" class="headerlink" title="启动"></a>启动</h2><p>docker-compose up -d</p><h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><p>docker-compose推荐使用这个方式进行启动容器，优点是全平台迁移，无论是群晖，威联通，unraid 还是Linux一些发行版，只需要把wallabag目录迁移到新机器上<code>docker-compose up -d</code> 启动就行，以防止突然迁移出现<code>忘记当初怎么启动这个</code> 容器的情况。所以说推荐以这个方式启动容器而且挂载卷在<code> - ./data:/var/lib/mysql</code>我的写法不是绝对路径，是当前的目录创建一个目录的写法。可以说几乎不修改什么。</p><p><img src="/img/Snipaste_2020-11-18_10-51-49.png" alt="预览"></p>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
            <tag> wallabag </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>heimdall开源导航页中文快速搭建</title>
      <link href="posts/39422.html"/>
      <url>posts/39422.html</url>
      
        <content type="html"><![CDATA[<h2 id="仓库地址"><a href="#仓库地址" class="headerlink" title="仓库地址"></a><a href="https://github.com/odyf/heimdall-cn">仓库地址</a></h2><h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><p>结合网上资料，让喜欢这个导航页的用户有一个快速搭建的环境</p><p>加上本人喜欢docker 命令行 <em>不太喜欢面板添加参数</em></p><p>就有了这个项目</p><h2 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h2><ol><li>中文</li><li>国内gitee仓库加速</li><li>快速只需要几步复制粘贴的命令就可以搭建</li></ol><h2 id="命令"><a href="#命令" class="headerlink" title="命令"></a>命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;home</span><br><span class="line">git clone https:&#x2F;&#x2F;github.com&#x2F;odyf&#x2F;heimdall-cn.git</span><br><span class="line">cd heimdall-cn</span><br><span class="line">docker-compose up</span><br><span class="line">git checkout app&#x2F;SupportedApps.php</span><br><span class="line">git checkout lan&#x2F;en&#x2F;app.php</span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h2 id="访问"><a href="#访问" class="headerlink" title="访问"></a>访问</h2><p>在<strong>docker-compose.yml</strong>配置文件里有下面参数</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ports:</span><br><span class="line">  - 33:80</span><br><span class="line">  - 44:443</span><br></pre></td></tr></table></figure><p>访问<a href="http://ip:33/">http://ip:33</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> heimdall 中文 快速 搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker-安装</title>
      <link href="posts/54680.html"/>
      <url>posts/54680.html</url>
      
        <content type="html"><![CDATA[<h2 id="公网环境脚本安装docker"><a href="#公网环境脚本安装docker" class="headerlink" title="公网环境脚本安装docker"></a>公网环境脚本安装docker</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -fsSL https:&#x2F;&#x2F;get.docker.com | bash -s docker --mirror Aliyun</span><br></pre></td></tr></table></figure><h2 id="国内阿里云镜像加速"><a href="#国内阿里云镜像加速" class="headerlink" title="国内阿里云镜像加速"></a>国内阿里云镜像加速</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p &#x2F;etc&#x2F;docker</span><br><span class="line">tee &#x2F;etc&#x2F;docker&#x2F;daemon.json &lt;&lt;-&#39;EOF&#39;</span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [&quot;https:&#x2F;&#x2F;0z9mn9x7.mirror.aliyuncs.com&quot;]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="管理"><a href="#管理" class="headerlink" title="管理"></a>管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure><h3 id="安装docker-compose"><a href="#安装docker-compose" class="headerlink" title="安装docker-compose"></a>安装docker-compose</h3><p>1.下载（官方地址：[<a href="https://docs.docker.com/compose/install/]">https://docs.docker.com/compose/install/]</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L &quot;https:&#x2F;&#x2F;github.com&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.25.4&#x2F;docker-compose-$(uname -s)-$(uname -m)&quot; -o &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br></pre></td></tr></table></figure><p>github很慢的话可以搜索一下它的镜像站。来加速\</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo curl -L https:&#x2F;&#x2F;get.daocloud.io&#x2F;docker&#x2F;compose&#x2F;releases&#x2F;download&#x2F;1.24.0&#x2F;docker-compose-&#96;uname -s&#96;-&#96;uname -m&#96; &gt; &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2.安装 赋予执行权限</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo chmod +x &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br></pre></td></tr></table></figure><p>3.查看版本</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker-compose version</span><br></pre></td></tr></table></figure><p>4.卸载docker-compose</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;docker-compose</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker 经验 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
